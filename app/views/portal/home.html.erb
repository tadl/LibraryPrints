<main class="home-page">

  <!-- Hero -->
  <section class="hero text-center">
    <div class="hero__content container">
      <h1 class="hero__title">TADL 3D Print & Scan Center</h1>
      <p class="hero__subtitle">Fast, Affordable, and High-Quality 3D Printing & Scanning for Our Community</p>
      <div class="hero__buttons">
        <%= link_to 'Request a Print', submit_print_path, class: 'btn btn-hero' %>
        <%= link_to 'Request a Scan',  submit_scan_path,  class: 'btn btn-hero btn-hero--alt' %>
      </div>
    </div>
  </section>

  <div class="container">

    <!-- Queue Stats -->
    <section class="stats-grid my-8">
      <%= [ ['Pending',      'pending'],
            ['Queued',       'queued'],
            ['Printing',     'printing'],
            ['Ready Pickup', 'ready_for_pickup'] ].map do |label, code| %>
        <div class="stats-card">
          <div class="stats-card__count"><%= Job.with_status(code).count %></div>
          <div class="stats-card__label"><%= label %></div>
        </div>
      <% end.join.html_safe %>
    </section>

    <!-- About Card -->
    <section class="about-card my-8">
      <h2>About Our Service</h2>
      <p>TADL’s 3D Printing & Scanning service turns your ideas into reality — perfect for prototypes, spare parts, art projects, and more.</p>
      <a href="https://www.tadl.org/services/3d-printing" target="_blank" rel="noopener" class="btn btn-secondary">Learn More</a>
    </section>

    <!-- Existing Jobs -->
    <section class="existing-jobs text-center my-8">
      <h2>Already have a request?</h2>
      <% if cookies.encrypted[:patron_id] %>
        <%= link_to 'Go to Dashboard →', dashboard_path, class: 'btn btn-primary' %>
      <% else %>
        <p>Log in to view and manage your existing jobs.</p>
        <%= link_to 'Log in', login_path, class: 'btn btn-primary btn-pill' %>
      <% end %>
    </section>

  </div>
</main>
