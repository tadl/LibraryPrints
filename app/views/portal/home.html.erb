<%= render 'shared/header' %>

<div class="container">
  <h1>TADL 3D Print Management System</h1>

  <!-- Calls to action -->
  <div class="cta my-4 text-center">
    <%= link_to 'Request 3D Print', submit_print_path, class: 'btn btn-primary btn-lg' %>
  </div>
  <div class="cta my-4 text-center">
    <%= link_to 'Request 3D Scan', submit_scan_path, class: 'btn btn-primary btn-lg' %>
  </div>

  <!-- Live queue stats -->
  <section class="my-5">
    <h2>Queue Stats</h2>
    <div class="stats d-flex justify-content-between flex-wrap">
      <div class="stat text-center p-3">
        <strong><%= Job.pending.count %></strong><br/>Pending
      </div>
      <div class="stat text-center p-3">
        <strong><%= Job.queued.count %></strong><br/>Queued
      </div>
      <div class="stat text-center p-3">
        <strong><%= Job.printing.count %></strong><br/>Printing
      </div>
      <div class="stat text-center p-3">
        <strong><%= Job.ready_for_pickup.count %></strong><br/>Ready
      </div>
    </div>
  </section>

  <!-- About -->
  <section class="about my-5">
    <h2>About Our 3D Printing Service</h2>
    <p>TADL’s 3D Printing service lets you turn your digital design into a real object—perfect for prototypes, spare parts, and more.</p>
    <p>Learn more at <a href="https://www.tadl.org/services/3d-printing" target="_blank" rel="noopener">tadl.org/services/3d-printing</a>.</p>
  </section>

  <!-- Already have a request? -->
  <section class="my-5 text-center">
    <h2>Have existing prints?</h2>
    <div class="cta">
      <% if cookies.encrypted[:patron_id] %>
        <%= link_to 'Dashboard →', dashboard_path, class: 'btn btn-secondary' %>
      <% else %>
        <p>Log in to view and manage your existing print jobs.</p>
        <%= link_to 'Log in', login_path, class: 'btn btn-secondary' %>
      <% end %>

    </div>
  </section>
</div>

